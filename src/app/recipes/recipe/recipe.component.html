<mat-card>
	<div class="card-header">
		<div class="card-title-container">
			<h4 *ngIf="!editing"
				class="card-title">
				{{recipe.title || 'Untitled Recipe'}}
			</h4>
			<input #title
				*ngIf="editing"
				[value]="recipe.title"
				(blur)="titleChange(title.value)"
				class="title-input"
				type="text">
		</div>
		<div class="settings-buttons">
			<div>
				<button *ngIf="editing"
					(click)="setEditing(false)"
					mat-flat-button
					class="edit-action-button"
					color="primary">
					Save Recipe
				</button>
				<app-settings-button [menuItems]="settingsMenuItems"
					(itemSelected)="menuItemSelected($event)"></app-settings-button>
			</div>
		</div>
	</div>
	<div class="card-body">
		<div class="card-text-elements">
			<div class="ingredients-container">
				<h6 class="subtitle-2 body-section-header">Ingredients</h6>
				<app-ingredient-list [requirements]="recipe.requirements"
					[editing]="editing"></app-ingredient-list>
			</div>
			<app-recipe-instructions *ngIf="recipe.instructions"
				[instructions]="recipe.instructions || []"
				[editing]="editing"
				(updateInstructions)="updateInstructions($event)">
			</app-recipe-instructions>
		</div>
		<div *ngIf="recipe.image"
			class="card-image-container">
			<img [attr.src]="recipe.image.url"
				[matTooltip]="recipe.image.caption"
				matTooltipShowDelay="500"
				class="card-image">
		</div>
	</div>
</mat-card>
