<div class="chip-list-with-input">
	<ng-container *ngFor="let item of items">
		<div (mouseover)="onHover(item)"
			(mouseleave)="onHover()"
			class="chip-and-option-row">
			<mat-chip-row [editable]="true"
				[aria-description]="'press enter to edit ' + item.options[0].name"
				[matTooltipPosition]="'below'"
				[matTooltipShowDelay]="250"
				(removed)="remove(item)"
				(edited)="edit(item, $event)"
				matTooltip="{{item.options[0]|ingredientQuantity}}">
				{{item.options[0].name}}
				<button [attr.aria-label]="'remove ' + item.options[0].name"
					matChipRemove>
					<mat-icon>cancel</mat-icon>
				</button>
			</mat-chip-row>
			<button *ngIf="hovered?.options?.[0]?.name === item.options[0].name"
				class="add-alternative"
				mat-mini-fab
				color="primary">
				<mat-icon>add</mat-icon>
			</button>
		</div>
	</ng-container>

	<form [formGroup]="form"
		(ngSubmit)="add()"
		id="newIngredientForm">
		<div class="form-inputs">
			<mat-form-field id="quantity"
				color="accent">
				<input formControlName="quantity"
					matInput
					type="text"
					inputmode="numeric"
					placeholder="1">
			</mat-form-field>
			<mat-form-field color="accent"
				id="units">
				<input formControlName="units"
					matInput
					type="text"
					placeholder="Units">
			</mat-form-field>
			<mat-form-field color="accent"
				id="ingredient">
				<input formControlName="name"
					matInput
					type="text"
					placeholder="Ingredient">
			</mat-form-field>
		</div>
		<button class="add-new-ingredient-submit"
			mat-raised-button
			color="accent"
			type="submit">
			Add new ingredient
		</button>
	</form>
</div>
